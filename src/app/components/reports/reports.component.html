<div class="portfolios-section">
  <h3 class="section-title">Portafolios</h3>
  <div class="portfolio-cards">
    <div *ngFor="let portfolio of portfolios; let i = index" class="portfolio-card">
      <div class="portfolio-header">
        <h4 class="portfolio-name">{{ portfolio.portfolioName }}</h4>
        <p class="portfolio-description">{{ portfolio.description }}</p>

        <!-- Checkbox para seleccionar portafolio -->
        <div class="portfolio-select">
          <input
            type="checkbox"
            [id]="'portfolio-' + i"
            [(ngModel)]="portfolio.selected"
            class="portfolio-checkbox"
          />
          <label [for]="'portfolio-' + i"></label>
        </div>
      </div>

      <div *ngIf="portfolio.documents?.length" class="portfolio-documents">
        <h5>Documentos Relacionados:</h5>
        <ul>
          <li *ngFor="let doc of portfolio.documents">
            <strong>{{ doc.title || 'Sin título' }}</strong>: {{ doc.description || 'Sin descripción' }}
            (TCEA: {{ doc.tcea ? doc.tcea.toFixed(2) : 'N/A' }}%)
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="action-buttons">
  <button (click)="generateSelectedPDF()" class="generate-pdf-button">Generar PDF Seleccionado</button>
  <button (click)="downloadSelectedPortfolios()" class="download-selected-button">Descargar Seleccionados</button>
</div>
